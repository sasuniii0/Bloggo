<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link rel="stylesheet" href="../css/settings.css">
</head>
<body>

<header class="sticky-top">
    <nav class="glass-navbar align-items-center">
        <h1 class="navbar-brand" href="#" aria-label="Bloggo Home">BLOGGO</h1>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <a href="dashboard.html"><i class="fas fa-home me-1"></i> Home</a>
        <a href="notification.html"><i class="fas fa-bell me-1"></i> Notifications</a>
        <a href="blog-editor.html"><i class="fas fa-pen me-1"></i> Write</a>


        <!-- User Profile Menu -->
        <div class="dropdown profile-menu">
            <a href="#" class="d-block" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="../assets/boy%20(1).png" class="avatar" alt="Profile Avatar">
            </a>
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                <li>
                    <a class="dropdown-item" href="stories.html">
                        <i class="fas fa-user me-2"></i> Profile
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="saved-bookmarks.html">
                        <i class="fas fa-bookmark me-2"></i> My Library
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="membership.html">
                        <i class="fas fa-star me-2"></i> Become a Member
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="settings.html">
                        <i class="fas fa-cog me-2"></i> Settings
                    </a>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li>
                    <a class="dropdown-item text-danger" href="logout.html" onclick="logout()">
                        <i class="fas fa-sign-out-alt me-2"></i> Logout
                    </a>
                </li>
            </ul>

        </div>
    </nav>
</header>

    <div class="settings-wrapper">
    <!-- Sidebar -->
    <aside class="settings-sidebar">
        <a href="#profile" class="active">Profile</a>
        <a href="#preferences">Preferences</a>
        <a href="#password">Change Password</a>
        <a href="#membership">Membership</a>
    </aside>

    <!-- Main Content -->
    <div class="settings-content">
        <!-- Profile Settings -->
        <section class="settings-section" id="profile">
            <h4>Profile Settings</h4>

            <div class="text-center mb-3">
                <!-- Avatar Preview (clickable) -->
                <img src="../assets/boy%20(1).png" alt="Avatar" class="avatar-preview" id="avatarPreview" style="cursor: pointer; border-radius: 50%; width: 100px; height: 100px; object-fit: cover;" title="Click to change avatar">

                <!-- Hidden File Input -->
                <input type="file" id="avatarInput" accept="image/*" style="display: none;">
            </div>

            <form>
                <div class="mb-3">
                    <label class="form-label">Username</label>
                    <input type="text" class="form-control" value="alex">
                </div>
                <div class="mb-3">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-control" value="alex@mail.com">
                </div>
                <button type="submit" class="btn btn-primary">Update Profile</button>
            </form>
        </section>

        <!-- Preferences -->
        <section class="settings-section" id="preferences">
            <h4>Account Preferences</h4>
            <form>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="emailNotifications" checked>
                    <label class="form-check-label" for="emailNotifications">Email Notifications</label>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" class="form-check-input" id="darkMode">
                    <label class="form-check-label" for="darkMode">Enable Dark Mode</label>
                </div>
                <button type="submit" class="btn btn-primary">Save Preferences</button>
            </form>
        </section>

        <!-- Change Password -->
        <section class="settings-section" id="password">
            <h4>Change Password</h4>
            <form>
                <div class="mb-3">
                    <label class="form-label">Current Password</label>
                    <input type="password" class="form-control">
                </div>
                <div class="mb-3">
                    <label class="form-label">New Password</label>
                    <input type="password" class="form-control">
                </div>
                <div class="mb-3">
                    <label class="form-label">Confirm New Password</label>
                    <input type="password" class="form-control">
                </div>
                <button type="submit" class="btn btn-primary">Update Password</button>
            </form>
        </section>

        <!-- Membership -->
        <section class="settings-section" id="membership">
            <h4>Membership</h4>
            <p>You are currently on the <strong>Free Plan</strong>.</p>
            <a href="membership.html" class="btn btn-primary">Upgrade Plan</a>
        </section>
    </div>
</div>
<script src="../js/profile.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    // Smooth scroll for sidebar links
    const links = document.querySelectorAll('.settings-sidebar a');
    links.forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            links.forEach(l => l.classList.remove('active'));
            link.classList.add('active');
            document.querySelector(link.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
        });
    });

    const avatarInput = document.getElementById('avatarInput');
    const avatarPreview = document.getElementById('avatarPreview');

    // Click on avatar opens file input
    avatarPreview.addEventListener('click', () => {
        avatarInput.click();
    });

    // Update preview when a file is selected
    avatarInput.addEventListener('change', function() {
        if (this.files && this.files[0]) {
            const reader = new FileReader();
            reader.onload = function(e) {
                avatarPreview.src = e.target.result;
            }
            reader.readAsDataURL(this.files[0]);
        }
    });
</script>
</body>
</html>

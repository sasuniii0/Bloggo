<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Editor</title>

    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <link href="../css/blog-editor.css" rel="stylesheet">

</head>
<body>
<header class="sticky-top">
    <nav class="glass-navbar navbar navbar-expand-lg navbar-light px-4 py-2 shadow-sm">
        <h1 class="navbar-brand" href="#" aria-label="Bloggo Home">BLOGGO</h1>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
            <!-- Navigation Links -->
            <div class="nav-container">
                <ul class="nav-menu">
                    <li class="nav-item"><a href="dashboard.html"><i class="fas fa-home me-1"></i> Home</a></li>
                    <li class="nav-item"><a href="notification.html"><i class="fas fa-bell me-1"></i> Notifications</a></li>
                    <li class="nav-item"><a href="blog-editor.html"><i class="fas fa-pen me-1"></i> Write</a></li>
                </ul>
            </div>

            <!-- User Profile Menu -->
            <div class="dropdown profile-menu">
                <a href="#" class="d-block" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <img src="../assets/boy%20(1).png" class="avatar" alt="Profile Avatar">
                </a>
                <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
                    <li>
                        <a class="dropdown-item" href="stories.html">
                            <i class="fas fa-user me-2"></i> Profile
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="saved-bookmarks.html">
                            <i class="fas fa-bookmark me-2"></i> My Library
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="membership.html">
                            <i class="fas fa-star me-2"></i> Become a Member
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="settings.html">
                            <i class="fas fa-cog me-2"></i> Settings
                        </a>
                    </li>
                    <li><hr class="dropdown-divider"></li>
                    <li>
                        <a class="dropdown-item text-danger" href="logout.html" onclick="logout()">
                            <i class="fas fa-sign-out-alt me-2"></i> Logout
                        </a>
                    </li>
                </ul>
            </div>
        </div>


    </nav>
</header>

<main class="container my-2">
    <div class="container mt-2 d-flex align-items-center justify-content-between">
        <!-- Left side -->
        <p class="fw-bold fs-3 mb-0" style="opacity: 0.3;">
            <span style="font-size: 3.5rem;">T</span>ell your story...
        </p>

        <!-- Right side buttons -->
        <div>
            <a id="btn-draft" class="btn btn-outline-secondary me-2" href="#">Draft</a>
            <a id="btn-schedule" class="btn btn-outline-secondary" href="#">Schedule</a>
            <a id="btn-publish" class="btn btn-primary" href="#">Publish</a>
        </div>
    </div>


    <div class="editor-container">

        <!--&lt;!&ndash; Title &ndash;&gt;
       -->

        <!-- Toolbar -->
        <div class="toolbar border-bottom p-3 bg-light d-flex flex-wrap gap-2 align-items-center" >
            <button onclick="openUnsplashModal()" class="btn btn-sm btn-outline-secondary" title="Insert Unsplash Image">
                <i class="fas fa-image"></i> Unsplash
            </button>

            <button onclick="format('bold')" class="btn btn-sm btn-outline-secondary fw-bold" title="Bold">B</button>
            <button onclick="format('italic')" class="btn btn-sm btn-outline-secondary" title="Italic"><em>I</em></button>
            <button onclick="format('underline')" class="btn btn-sm btn-outline-secondary" title="Underline"><u>U</u></button>
            <button onclick="format('insertOrderedList')" class="btn btn-sm btn-outline-secondary" title="Numbered List">1.</button>
            <button onclick="format('insertUnorderedList')" class="btn btn-sm btn-outline-secondary" title="Bulleted List">â€¢</button>
            <button onclick="format('justifyLeft')" class="btn btn-sm btn-outline-secondary" title="Align Left">â¯‡</button>
            <button onclick="format('justifyCenter')" class="btn btn-sm btn-outline-secondary" title="Center">â‰¡</button>
            <button onclick="format('justifyRight')" class="btn btn-sm btn-outline-secondary" title="Align Right">â¯ˆ</button>
            <button onclick="format('createLink', prompt('Enter URL:'))" class="btn btn-sm btn-outline-secondary" title="Insert Link">ðŸ”—</button>
            <button onclick="format('formatBlock','<h1>')" class="btn btn-sm btn-outline-secondary" title="Heading 1">H1</button>
            <button onclick="format('formatBlock','<h2>')" class="btn btn-sm btn-outline-secondary" title="Heading 2">H2</button>
            <button onclick="format('formatBlock','<pre>')" class="btn btn-sm btn-outline-secondary" title="Code Block">{ }</button>
            <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="uploadImage(event)">
            <button onclick="format('undo')" class="btn btn-sm btn-outline-secondary" title="Undo">â†º</button>
            <button onclick="format('redo')" class="btn btn-sm btn-outline-secondary" title="Redo">â†»</button>

        </div>

        <input type="text" class="form-control form-control-lg border-0 fw-bold" style="border: none"
               placeholder="Add Title">

        <!-- Cover Image Upload -->
        <div class="mb-3  p-3">
            <label for="coverImageInput" class="form-label fw-bold">Add Cover Image</label>
            <input type="file" class="form-control" id="coverImageInput" accept="image/*">
            <img id="coverPreview" src="" alt="Cover Preview" class="img-fluid mt-2" style="max-height: 300px; display: none;">
        </div>

        <!-- Editor -->
        <div class="editor-wrapper position-relative">
            <div class="editor-wrapper position-relative">
                <!-- Plus button (hidden at first) -->
                <button id="plusBtn" class="plus-btn" style="display: none;">+</button>

                <!-- Editor -->
                <div class="editor" id="editor" contenteditable="true" placeholder="Start writing your story..."></div>
            </div>
        </div>




        <!-- Autosave -->
        <div class="autosave d-flex align-items-center gap-2" id="autosave">
            <span class="indicator"></span>
            <span>All changes saved</span>
        </div>
    </div>
</main>

<div class="modal fade" id="unsplashModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Search Unsplash</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <input type="text" id="unsplashSearch" class="form-control mb-3" placeholder="Search for images...">
                <div id="unsplashResults" class="d-flex flex-wrap gap-2"></div>
            </div>
        </div>
    </div>
</div>

<!-- Schedule Post Modal -->
<div class="modal fade" id="scheduleModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Schedule Post</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <label for="scheduleDateTime" class="form-label">Select Date & Time:</label>
                <input type="datetime-local" id="scheduleDateTime" class="form-control">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" style="background: black; color: white" id="confirmScheduleBtn">Schedule</button>
            </div>
        </div>
    </div>
</div>



<!-- Bootstrap JS Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../js/blog-editor.js"></script>

</body>
</html>
